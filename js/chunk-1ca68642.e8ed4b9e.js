(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ca68642"],{"12a5":function(t,e,a){},"1dde":function(t,e,a){var r=a("d039"),c=a("b622"),n=a("2d00"),i=c("species");t.exports=function(t){return n>=51||!r((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,a){"use strict";var r=a("23e7"),c=a("b727").filter,n=a("1dde"),i=a("ae40"),o=n("filter"),s=i("filter");r({target:"Array",proto:!0,forced:!o||!s},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,e,a){var r=a("861d"),c=a("e8b5"),n=a("b622"),i=n("species");t.exports=function(t,e){var a;return c(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!c(a.prototype)?r(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},8418:function(t,e,a){"use strict";var r=a("c04e"),c=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var i=r(e);i in t?c.f(t,i,n(0,a)):t[i]=a}},"99af":function(t,e,a){"use strict";var r=a("23e7"),c=a("d039"),n=a("e8b5"),i=a("861d"),o=a("7b0b"),s=a("50c4"),u=a("8418"),d=a("65f0"),l=a("1dde"),f=a("b622"),p=a("2d00"),g=f("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",b=p>=51||!c((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=l("concat"),C=function(t){if(!i(t))return!1;var e=t[g];return void 0!==e?!!e:n(t)},m=!b||!y;r({target:"Array",proto:!0,forced:m},{concat:function(t){var e,a,r,c,n,i=o(this),l=d(i,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(n=-1===e?i:arguments[e],C(n)){if(c=s(n.length),f+c>v)throw TypeError(h);for(a=0;a<c;a++,f++)a in n&&u(l,f,n[a])}else{if(f>=v)throw TypeError(h);u(l,f++,n)}return l.length=f,l}})},ae40:function(t,e,a){var r=a("83ab"),c=a("d039"),n=a("5135"),i=Object.defineProperty,o={},s=function(t){throw t};t.exports=function(t,e){if(n(o,t))return o[t];e||(e={});var a=[][t],u=!!n(e,"ACCESSORS")&&e.ACCESSORS,d=n(e,0)?e[0]:s,l=n(e,1)?e[1]:void 0;return o[t]=!!a&&!c((function(){if(u&&!r)return!0;var t={length:-1};u?i(t,1,{enumerable:!0,get:s}):t[1]=1,a.call(t,d,l)}))}},b154:function(t,e,a){"use strict";var r=a("12a5"),c=a.n(r);c.a},b727:function(t,e,a){var r=a("0366"),c=a("44ad"),n=a("7b0b"),i=a("50c4"),o=a("65f0"),s=[].push,u=function(t){var e=1==t,a=2==t,u=3==t,d=4==t,l=6==t,f=5==t||l;return function(p,g,v,h){for(var b,y,C=n(p),m=c(C),x=r(g,v,3),_=i(m.length),k=0,w=h||o,L=e?w(p,_):a?w(p,0):void 0;_>k;k++)if((f||k in m)&&(b=m[k],y=x(b,k,C),t))if(e)L[k]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:s.call(L,b)}else if(d)return!1;return l?-1:u||d?d:L}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},e8b5:function(t,e,a){var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},ed84:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"bg bg-cover"}),a("div",{attrs:{calss:"container-fluid"}},[a("div",{staticClass:"row m-0 px-5 justify-content-center"},[a("div",{staticClass:"col-md-3 col-7 fixed-md-top",staticStyle:{"margin-top":"70px"}},[a("div",{staticClass:"list-group"},[a("a",{staticClass:"list-group-item list-group-item-action",class:{active:""===t.category},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.targetcategory("")}}},[t._v(" 全部 ")]),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:"碗盤"===t.category},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.targetcategory("碗盤")}}},[t._v("碗盤")]),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:"杯子"===t.category},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.targetcategory("杯子")}}},[t._v("杯子")]),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:"餐具"===t.category},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.targetcategory("餐具")}}},[t._v("餐具")])]),a("div",{staticClass:"cart mt-3 border border-secondary border-top-0 "},[a("h3",{staticClass:"h3 bg-dark text-light py-2 text-center"},[t._v("加入購物車")]),t.carts.length?a("div",[t._l(t.carts,(function(e){return a("div",{key:e.id,staticClass:"px-2 d-flex py-2 border-bottom"},[a("a",{staticClass:"text-decoration-none text-danger align-self-center mx-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.delCart(e.product.id)}}},[a("i",{staticClass:"fa fa-trash fa-2x"})]),a("div",{staticClass:"ml-3 m-auto text-center"},[a("span",{staticClass:"h6"},[t._v(t._s(e.product.title))]),a("div",{staticClass:"d-flex mt-3 justify-content-center"},[a("button",{staticClass:"btn btn-outline-secondary rounded-0 btn-sm",attrs:{type:"button",disabled:1===e.quantity},on:{click:function(a){return t.updateQty(e.product.id,e.quantity-1)}}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],staticClass:"text-center",staticStyle:{width:"90px"},attrs:{type:"text",disabled:""},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,"quantity",a.target.value)}}}),a("button",{staticClass:"btn btn-outline-secondary rounded-0 btn-sm",attrs:{type:"button"},on:{click:function(a){return t.updateQty(e.product.id,e.quantity+1)}}},[t._v("+")])])])])})),a("a",{staticClass:"btn btn-secondary m-2 d-block",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goCart(e)}}},[t._v("前往結帳")])],2):a("div",{staticClass:"my-5 text-center"},[t._v("尚未有商品在購物車")])])]),a("div",{staticClass:"col-md-9 ml-auto mt-5 col-12"},[a("div",{staticClass:"row"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"col-xl-4 p-0 mb-4 col-md-6 col-12 "},[a("div",{staticClass:"card products-list rounded-0 h-auto"},[a("div",{staticClass:"bg-cover card-img",style:{backgroundImage:"url("+e.imageUrl[0]+")"},on:{click:function(a){return t.goCurrentTarget(e.id)}}}),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-title d-flex"},[a("h3",[t._v(t._s(e.title))]),a("span",{staticClass:"text-muted ml-auto mr-2 align-self-center",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.category))])]),a("p",[t._v(t._s(e.content))]),a("div",{staticClass:"btn-type d-flex mt-2 align-self-end"},[a("span",{staticClass:"price"},[t._v(t._s(e.price))]),a("span",{staticClass:"originPrice text-muted"},[t._v(t._s(e.origin_price))]),a("a",{staticClass:"text-decoration-none ml-auto text-secondary mr-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addCart(e)}}},[a("i",{staticClass:"fa fa-shopping-cart fa-2x",attrs:{"aria-hidden":"true"}})])])])])])})),0)])])])],1)},c=[],n=(a("99af"),a("4de4"),{name:"Products",data:function(){return{products:[],category:"",carts:[],isLoading:!1}},methods:{getProducts:function(){var t=this;t.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/products");t.$http.get(e).then((function(e){if(200===e.status){if(""===t.category)t.products=e.data.data;else{var a=e.data.data.filter((function(e){return t.category===e.category}));t.products=a}t.isLoading=!1}}))},getCart:function(){var t=this;t.isLoading=!0,t.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping")).then((function(e){t.carts=e.data.data,t.isLoading=!1}))},targetcategory:function(t){switch(t){case"":this.category="";break;case"碗盤":this.category="碗盤";break;case"杯子":this.category="杯子";break;case"餐具":this.category="餐具";break;default:break}this.getProducts()},goCurrentTarget:function(t){this.$router.push({path:"/singleproduct/".concat(t)})},addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,r={product:t.id,quantity:e};a.isLoading=!0,a.$http.post("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping"),r).then((function(){a.getCart(),a.isLoading=!1})).catch((function(t){console.log(t.response.data.errors),a.isLoading=!1}))},delCart:function(t){var e=this;e.isLoading=!0,e.$http.delete("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping/").concat(t)).then((function(){e.getCart(),e.isLoading=!1}))},updateQty:function(t,e){var a=this;a.isLoading=!0;var r={product:t,quantity:e};a.$http.patch("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping"),r).then((function(){a.getCart(),a.isLoading=!1})).catch((function(t){console.log(t.response.data.errors),a.isLoading=!1}))},goCart:function(){this.$router.push({path:"/cart"})}},created:function(){this.getProducts(),this.getCart()}}),i=n,o=(a("b154"),a("2877")),s=Object(o["a"])(i,r,c,!1,null,"122276cd",null);e["default"]=s.exports}}]);
//# sourceMappingURL=chunk-1ca68642.e8ed4b9e.js.map