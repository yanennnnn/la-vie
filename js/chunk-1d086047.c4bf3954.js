(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d086047"],{"159b":function(t,e,n){var a=n("da84"),r=n("fdbc"),i=n("17c2"),c=n("9112");for(var o in r){var s=a[o],u=s&&s.prototype;if(u&&u.forEach!==i)try{c(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,r=n("a640"),i=n("ae40"),c=r("forEach"),o=i("forEach");t.exports=c&&o?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),i=n("2d00"),c=r("species");t.exports=function(t){return i>=51||!a((function(){var e=[],n=e.constructor={};return n[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"29a8":function(t,e,n){},4160:function(t,e,n){"use strict";var a=n("23e7"),r=n("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"5a12":function(t,e,n){"use strict";var a=n("29a8"),r=n.n(a);r.a},"62b3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mt-5"},[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t.carts.length?n("div",[n("div",{staticClass:"cart p-5 mt-5"},[n("h3",{staticClass:"h3 text-center mb-3"},[t._v("購物車")]),n("table",{staticClass:"table table-light"},[t._m(0),n("tbody",t._l(t.carts,(function(e){return n("tr",{key:e.id},[n("td",{staticClass:"align-middle"},[n("a",{staticClass:"text-decoration-none text-danger align-self-center mx-2",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.delCart(e.product.id)}}},[n("i",{staticClass:"fa fa-trash fa-2x"})])]),n("td",{staticClass:"align-middle"},[n("div",{staticClass:"bg-cover",style:{backgroundImage:"url("+e.product.imageUrl[0]+")"}})]),n("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),n("td",{staticClass:"align-middle"},[n("div",{staticClass:"d-flex justify-content-center"},[n("button",{staticClass:"btn btn-outline-secondary rounded-0 btn-sm",attrs:{type:"button",disabled:1===e.quantity},on:{click:function(n){return t.updateQty(e.product.id,e.quantity-1)}}},[t._v(" - ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],staticClass:"text-center",staticStyle:{width:"90px"},attrs:{type:"text",disabled:""},domProps:{value:e.quantity},on:{input:function(n){n.target.composing||t.$set(e,"quantity",n.target.value)}}}),n("button",{staticClass:"btn btn-outline-secondary rounded-0 btn-sm",attrs:{type:"button"},on:{click:function(n){return t.updateQty(e.product.id,e.quantity+1)}}},[t._v("+")])])]),n("td",{staticClass:"align-middle"},[t._v(t._s(e.quantity*e.product.price))])])})),0)]),n("div",{staticClass:"d-flex justify-content-end"},[n("span",{staticClass:"align-self-center mr-2"},[t._v("總金額")]),n("span",{staticClass:"text-danger h4 mr-2"},[t._v(t._s(t.totalPrice))])])])]):n("div",{staticClass:"cart p-5 mt-5 nothing text-center\n      d-flex flex-column justify-content-center"},[n("p",[t._v("尚有商品在購物車，趕快去購買吧！")]),n("a",{staticClass:"btn btn-info w-25 mx-auto",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goProducts(e)}}},[t._v("前往商品區")])])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col",width:"30"}}),n("th",{attrs:{scope:"col",width:"90"}},[t._v("圖片")]),n("th",{attrs:{scope:"col"}},[t._v("商品")]),n("th",{staticClass:"text-center",attrs:{scope:"col",width:"120"}},[t._v("數量")]),n("th",{attrs:{scope:"col",width:"110"}},[t._v("售價")])])])}],i=(n("99af"),n("4160"),n("159b"),{name:"Cart",data:function(){return{carts:[],totalPrice:0,isLoading:!1}},methods:{getCart:function(){var t=this;t.isLoading=!0,t.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping")).then((function(e){t.carts=e.data.data,t.isLoading=!1,console.log(e),t.getTotalPrice()}))},getTotalPrice:function(){var t=this;t.totalPrice=0,t.carts.forEach((function(e){t.totalPrice+=e.product.price*e.quantity}))},delCart:function(t){var e=this;e.isLoading=!0,e.$http.delete("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping/").concat(t)).then((function(){e.getCart(),e.isLoading=!1}))},updateQty:function(t,e){var n=this;n.isLoading=!0;var a={product:t,quantity:e};n.$http.patch("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping"),a).then((function(){n.getCart(),n.isLoading=!1})).catch((function(t){console.log(t.response.data.errors),n.isLoading=!1}))},goProducts:function(){this.$router.push({path:"/products"})}},created:function(){this.getCart()}}),c=i,o=(n("5a12"),n("2877")),s=Object(o["a"])(c,a,r,!1,null,"05e1e3f0",null);e["default"]=s.exports},"65f0":function(t,e,n){var a=n("861d"),r=n("e8b5"),i=n("b622"),c=i("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[c],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},8418:function(t,e,n){"use strict";var a=n("c04e"),r=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var c=a(e);c in t?r.f(t,c,i(0,n)):t[c]=n}},"99af":function(t,e,n){"use strict";var a=n("23e7"),r=n("d039"),i=n("e8b5"),c=n("861d"),o=n("7b0b"),s=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=p>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),y=d("concat"),m=function(t){if(!c(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},C=!b||!y;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,n,a,r,i,c=o(this),d=l(c,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?c:arguments[e],m(i)){if(r=s(i.length),f+r>v)throw TypeError(g);for(n=0;n<r;n++,f++)n in i&&u(d,f,i[n])}else{if(f>=v)throw TypeError(g);u(d,f++,i)}return d.length=f,d}})},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,n){var a=n("83ab"),r=n("d039"),i=n("5135"),c=Object.defineProperty,o={},s=function(t){throw t};t.exports=function(t,e){if(i(o,t))return o[t];e||(e={});var n=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:s,d=i(e,1)?e[1]:void 0;return o[t]=!!n&&!r((function(){if(u&&!a)return!0;var t={length:-1};u?c(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,l,d)}))}},b727:function(t,e,n){var a=n("0366"),r=n("44ad"),i=n("7b0b"),c=n("50c4"),o=n("65f0"),s=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d;return function(p,h,v,g){for(var b,y,m=i(p),C=r(m),L=a(h,v,3),x=c(C.length),S=0,_=g||o,w=e?_(p,x):n?_(p,0):void 0;x>S;S++)if((f||S in C)&&(b=C[S],y=L(b,S,m),t))if(e)w[S]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return S;case 2:s.call(w,b)}else if(l)return!1;return d?-1:u||l?l:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-1d086047.c4bf3954.js.map